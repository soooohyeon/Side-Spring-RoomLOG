<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RoomLOG</title>
  <link rel="shortcut icon" th:href="@{/image/layout/favicon.png}">
  <link rel="stylesheet" th:href="@{/css/layout/main-layout.css}">
  <link rel="stylesheet" th:href="@{/css/layout/list-layout.css}">
  <link rel="stylesheet" th:href="@{/css/main/main.css}">
  <script src="http://code.jquery.com/jquery-latest.min.js"></script>
  <th:block th:if="${session.userId != null} and ${session.userId != -1}">
    <!-- 로그인 상태면 유저 번호 sessionStorage에 저장 -->
    <script th:inline="javascript">
      sessionStorage.setItem("userId", [[${session.userId}]]);
    </script>
  </th:block>
  <th:block th:unless="${session.userId != null} and ${session.userId != -1}">
    <script th:inline="javascript">
      sessionStorage.removeItem("userId");
    </script>
  </th:block>
  <script defer th:src="@{/js/main/main.js}"></script>
  <script defer th:src="@{/js/basic/basic.js}"></script>
</head>
<body>
  <!-- 상단 공통 헤더 영역 -->
  <header id="HEADER-CONTAINER">
	<div th:replace="layout/user-header-login :: headerLoginFragment"></div>
	<div th:replace="layout/user-header-menu :: headerMenuFragment"></div>
  </header>
  <!--  -->
  
  <!-- 메인 콘텐츠 영역 -->
  <main id="MAIN-CONTAINTER">
    <!--  -->

    <!-- 배너 영역 -->
    <section id="SECTION-BANNER-CONTAINER">
      <ul id="UL-BANNER-WRAP">
        <li class="li-slide-banner">
          <img th:src="@{/image/banner/banner1.png}" class="img-banner">
        </li>
        <li class="li-slide-banner">
          <img th:src="@{/image/banner/banner2.png}" class="img-banner">
        </li>
        <li class="li-slide-banner">
          <img th:src="@{/image/banner/banner3.png}" class="img-banner">
        </li>
      </ul>
    </section>
    <!--  -->
    
    <!-- 랭킹 - 팔로워 많은 유저 4명 -->
    <section class="section-rank-container">
      <p class="p-rank-section-title">공간을 이야기하는 사람들</p>
      <p class="p-rank-section-sub-title">지금 이 순간, 가장 많은 마음을 받은 유저들</p>
      <div class="div-rank-wrap">

        <!-- 팔로워 1명 -->
        <div class="div-rank-layout div-rank-follower-wrap post-hover" th:onclick="|location.href='@{/userPage/userPage.html}'|">
          <div class="div-profile-image"><img th:src="@{/image/example/profile_image/profile1.jpg}" alt="profile"></div>
          <div class="div-nickname">조용한오후</div>
          <button class="button-style follow-btn" onclick="goFollow(event, this, 0)">팔로우</button>
          <!-- <button class="button-style basic-button" onclick="noFollow(event, this, 1)">팔로잉</button> -->
          <p class="div-skip p-user-intro">조용히 머물다 가는 계절처럼 🍂</p>
          <div class="div-user-info-wrap">
            <div class="div-count-wrap">
              <img src="/image/main/follower_count.png" class="img-followr-count" alt="follower">
              <div class="div-count-name">팔로워</div>
              <div class="div-count-numer">117</div>
            </div>
            <div class="div-count-wrap">
              <img src="/image/layout/board_count.png" class="img-board-count" alt="board">
              <div class="div-count-name">게시글</div>
              <div class="div-count-numer">17</div>
            </div>
          </div>
        </div>
        <!--  -->

        <!--  -->
        <div class="div-rank-layout div-rank-follower-wrap post-hover" onclick="location.href='userPage/userPage.html'">
          <div class="div-profile-image"><img src="../image/example/profile_image/profile2.jpg" alt="profile"></div>
          <div class="div-nickname">작은식탁일기</div>
          <button class="button-style follow-btn" onclick="goFollow(event, this, 1)">팔로우</button>
          <p class="p-user-intro div-skip">식탁 위 작은 것들로 하루를 기록해요</p>
          <div class="div-user-info-wrap">
            <div class="div-count-wrap">
              <img src="../image/main/follower_count.png" class="img-followr-count" alt="follower">
              <div class="div-count-name">팔로워</div>
              <div class="div-count-numer">117</div>
            </div>
            <div class="div-count-wrap">
              <img src="../image/layout/board_count.png" class="img-board-count" alt="board">
              <div class="div-count-name">게시글</div>
              <div class="div-count-numer">17</div>
            </div>
          </div>
        </div>
        <div class="div-rank-layout div-rank-follower-wrap post-hover">
          <div class="div-profile-image"><img src="../image/example/profile_image/profile3.jpg" alt="profile"></div>
          <div class="div-nickname">포근한하루</div>
          <button class="button-style basic-button" onclick="noFollow(event, this, 1)">팔로잉</button>
          <p class="p-user-intro div-skip">이불 속 온기를 좋아하는 사람 🛏️</p>
          <div class="div-user-info-wrap">
            <div class="div-count-wrap">
              <img src="../image/main/follower_count.png" class="img-followr-count" alt="follower">
              <div class="div-count-name">팔로워</div>
              <div class="div-count-numer">117</div>
            </div>
            <div class="div-count-wrap">
              <img src="../image/layout/board_count.png" class="img-board-count" alt="board">
              <div class="div-count-name">게시글</div>
              <div class="div-count-numer">17</div>
            </div>
          </div>
        </div>
        <div class="div-rank-layout div-rank-follower-wrap post-hover">
          <div class="div-profile-image"><img src="../image/example/profile_image/profile4.jpg" alt="profile"></div>
          <div class="div-nickname">이불밖은햇살</div>
          <button class="button-style follow-btn" onclick="goFollow(event, this, 1)">팔로우</button>
          <p class="p-user-intro div-skip">소란한 하루에도 고요한 시간이 필요해요</p>
          <div class="div-user-info-wrap">
            <div class="div-count-wrap">
              <img src="../image/main/follower_count.png" class="img-followr-count" alt="follower">
              <div class="div-count-name">팔로워</div>
              <div class="div-count-numer">117</div>
            </div>
            <div class="div-count-wrap">
              <img src="../image/layout/board_count.png" class="img-board-count" alt="board">
              <div class="div-count-name">게시글</div>
              <div class="div-count-numer">17</div>
            </div>
          </div>
        </div>
        <!--  -->
      
      </div>
    </section>

    <!-- 랭킹 - 스크랩 많은 게시글 3개 -->
    <section class="section-rank-container">
      <div id="DIV-RANK-BOARD-TITLE-WRAP">
        <p class="p-rank-section-title">우리 방 어딘가에 어울릴 것 같은 글</p>
        <div id="DIV-GO-BOARD-PAGE"><a th:href="@{/community/community-list}">전체보기  &gt;</a></div>
      </div>
      <p class="p-rank-section-sub-title">사람들의 하루에 머물고 싶었던 이야기들</p>
      <div class="div-rank-wrap">
        
        <!-- 게시글 1개 -->
        <th:block th:each="scrapRank : ${scrapRankLists}">
          <div class="div-rank-layout div-rank-board-wrap post-hover" th:onclick="|location.href='@{/community/community-view}?communityId=${scrapRank.communityId}'|">
            <div class="div-board-info-wrap">
              <div class="div-skip div-board-title" th:text="${scrapRank.communityTitle}"></div>
              <div class="div-board-image" th:if="${scrapRank.checkCommunityImg}">
                <img th:src="@{|/upload/${scrapRank.communityImgPath}/th_${scrapRank.communityImgUuid}|}">
              </div>
            </div>
            <div class="div-skip div-board-content" th:utext="${scrapRank.communityContent}"></div>
            <div class="div-board-info-count-wrap">
              <div class="div-board-count-wrap">
                <img th:src="@{/image/layout/comment_count.png}" class="img-bookmark" alt="bookmark">
                <div class="div-board-info-count comment-count" th:text="${scrapRank.commentCount}"></div>
              </div>
              <div class="div-board-count-wrap div-count-wrap">
                <th:block th:if="${scrapRank.isScrapped}">
                  <img th:src="@{/image/layout/scrap_ok.png}" alt="scrap_ok" th:onclick="|noScrap(event, this, ${scrapRank.communityId})|">
                </th:block>
                <th:block th:unless="${scrapRank.isScrapped}">
                  <img th:src="@{/image/layout/scrap_no.png}" alt="scrap_no" th:onclick="|goScrap(event, this, ${scrapRank.communityId})|">
                </th:block>
                <div class="div-board-info-count div-scrap" th:text="${scrapRank.scrapCount}"></div>
              </div>
            </div>
          </div>
        </th:block>
        <!--  -->

      </div>
    </section>
    <!--  -->

  </main>
  <!--  -->

  <!-- 하단 푸터 영역 -->
  <footer th:replace="layout/user-footer :: footerFragment"></footer>
  
  <!-- 알람 모달 -->
  <div th:replace="layout/modal :: modalFragment"></div>

</body>
</html>
